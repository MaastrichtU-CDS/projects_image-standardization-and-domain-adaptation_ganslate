project_dir: "./projects/aerial_to_maps"

train:
    output_dir: "/hpcwork/vq218944/checkpoints/aerial_to_maps/adaptive_lambda"
    cuda: True
    n_iters: 109600 # (1096 [dataset_size] * 100)
    n_iters_decay: 109600
    batch_size: 4
    mixed_precision: False
    seed: 42

    logging:
        freq: 100
        wandb:
            project: "aerial_to_maps"
            entity: "surajpai"
            run: "adaptive_lambda"

    checkpointing:
        freq: 40000

    dataset: 
        name: "ImageDataset"
        root: "/work/vq218944/maps/train"
        num_workers: 8
        image_channels: 3
        preprocess: "resize"
        load_size: 256
        flip: True
        
    gan:  
        name: "AdaptiveCycleGAN"

        generator:  
            name: "Unet2D"
            in_channels: 3
            out_channels: 3

        discriminator:  
            name: "PatchGAN2D"
            n_layers: 3
            in_channels: 3

        optimizer:
            lambda_A: 10.0
            lambda_B: 10.0
            lambda_identity: 0.0
            proportion_ssim: 0.0
            lr_D: 0.0001
            lr_G: 0.0002

        adaptive_training:
            adaptive_lambda: True
            rt: 0.6


val:
    freq: 20000
    dataset:
        name: "AerialMapsValDataset"
        root: "/work/vq218944/maps/val"
        num_workers: 8
        image_channels: 3
        preprocess: "resize"
        load_size: 256
        flip: False
