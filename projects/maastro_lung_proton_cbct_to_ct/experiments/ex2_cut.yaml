project_dir: "./projects/maastro_lung_proton_cbct_to_ct"
use_cuda: True
n_iters: 20000
n_iters_decay: 20000
batch_size: 1
mixed_precision: True

logging:
    checkpoint_dir: "./checkpoints/cbcttoct_cut_ex2"
    wandb:
        project: "CUT-proton-cbct-ct"
    log_freq: 50
    checkpoint_freq: 2000

dataset: 
    name: "CBCTtoCTDataset"
    root: "/workspace/processed/"
    num_workers: 32
    patch_size: [32, 224, 224]
    
gan:  
    name: "CUT"
    nce_layers: [0, 1, 4]
    mlp_nc: 256
    num_patches: 1024

    generator:
        name: Vnet3D
        in_channels: 1
        use_memory_saving: False
        use_inverse: False
        is_separable: False
        down_blocks: [2, 2, 3]
        up_blocks: [3, 3, 3]

    discriminator:
        name: "PatchGAN3D"
        n_layers: 3
        in_channels: 1

    optimizer:
        lr_D: 0.0002
        lr_G: 0.0004
        lambda_adv: 5.0
        lambda_nce: 1.0
        lambda_nce_idt: 0.2
        nce_T: 0.07
